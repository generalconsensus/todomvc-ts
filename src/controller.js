import { entryItem } from "./model";
import { View } from "./view";
export class todo {
    constructor() {
        View.prototype.listItems();
        // Add listeners
        let newTodo = document.body.querySelector(".new-todo");
        let destroy = document.body.querySelector(".destroy");
        if (newTodo) {
            newTodo.addEventListener("change", this.createTodo, false);
        }
        if (destroy) {
            destroy.addEventListener("click", this.deleteTodo, false);
        }
    }
    createTodo(Event) {
        let value = Event.target.value.trim();
        if (value) {
            let key = entryItem.prototype.createEntry(value);
            View.prototype.addItem(key, value);
        }
    }
    deleteTodo(Event) {
        let value = Event.srcElement.parentNode.textContent;
        if (value) {
            entryItem.prototype.deleteEntry(value);
            View.prototype.deleteItem(Event);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLFNBQVMsQ0FBQztBQUNsQyxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sUUFBUSxDQUFDO0FBRzVCLE1BQU07SUFFRjtRQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFM0IsZ0JBQWdCO1FBQ2hCLElBQUksT0FBTyxHQUFnQixRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRSxJQUFJLE9BQU8sR0FBZ0IsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNWLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvRCxDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNWLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM5RCxDQUFDO0lBRUwsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFhO1FBQ3BCLElBQUksS0FBSyxHQUFJLEtBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQy9DLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDUixJQUFJLEdBQUcsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqRCxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkMsQ0FBQztJQUVMLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBVTtRQUNqQixJQUFJLEtBQUssR0FBWSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxXQUFzQixDQUFDO1FBQ3hFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDUixTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxDQUFDO0lBQ0wsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtlbnRyeUl0ZW19IGZyb20gXCIuL21vZGVsXCI7XG5pbXBvcnQge1ZpZXd9IGZyb20gXCIuL3ZpZXdcIjtcblxuXG5leHBvcnQgY2xhc3MgdG9kbyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgVmlldy5wcm90b3R5cGUubGlzdEl0ZW1zKCk7XG5cbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICBsZXQgbmV3VG9kbyA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvZG9cIik7XG4gICAgICAgIGxldCBkZXN0cm95ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5kZXN0cm95XCIpO1xuICAgICAgICBpZiAobmV3VG9kbykge1xuICAgICAgICAgICAgbmV3VG9kby5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuY3JlYXRlVG9kbywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0cm95KSB7XG4gICAgICAgICAgICBkZXN0cm95LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRlbGV0ZVRvZG8sIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY3JlYXRlVG9kbyhFdmVudDogb2JqZWN0KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IChFdmVudCBhcyBhbnkpLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGtleSA9IGVudHJ5SXRlbS5wcm90b3R5cGUuY3JlYXRlRW50cnkodmFsdWUpO1xuICAgICAgICAgICAgVmlldy5wcm90b3R5cGUuYWRkSXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZGVsZXRlVG9kbyhFdmVudDogYW55KSB7XG4gICAgICAgIGxldCB2YWx1ZTogc3RyaW5nID0gKEV2ZW50LnNyY0VsZW1lbnQucGFyZW50Tm9kZS50ZXh0Q29udGVudCBhcyBzdHJpbmcpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGVudHJ5SXRlbS5wcm90b3R5cGUuZGVsZXRlRW50cnkodmFsdWUpO1xuICAgICAgICAgICAgVmlldy5wcm90b3R5cGUuZGVsZXRlSXRlbShFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiJdfQ==