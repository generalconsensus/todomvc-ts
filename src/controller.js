import { entryItem } from "./model";
import { View } from "./view";
export class todo {
    constructor() {
        let items = View.prototype.listItems();
        console.log(items);
        // Add listeners
        let newTodo = document.body.querySelector(".new-todo");
        let destroy = document.body.querySelector(".destroy");
        if (newTodo) {
            newTodo.addEventListener("change", this.createTodo, false);
        }
        // if (destroy) {
        destroy.addEventListener("click", this.deleteTodo, false);
        // }
    }
    createTodo(Event) {
        let value = Event.target.value.trim();
        if (value) {
            let key = entryItem.prototype.createEntry(value);
            View.prototype.addItem(key, value);
        }
    }
    deleteTodo(Event) {
        let value = Event.srcElement.parentNode.textContent;
        if (value) {
            entryItem.prototype.deleteEntry(value);
            View.prototype.deleteItem(Event);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUNwQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRzlCLE1BQU07SUFFRjtRQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixnQkFBZ0I7UUFDaEIsSUFBSSxPQUFPLEdBQWdCLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3BFLElBQUksT0FBTyxHQUFnQixRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ1YsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQy9ELENBQUM7UUFDRCxpQkFBaUI7UUFDYixPQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDOUQsSUFBSTtJQUVSLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYTtRQUNwQixJQUFJLEtBQUssR0FBSSxLQUFhLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1IsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7SUFFTCxDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQVU7UUFDakIsSUFBSSxLQUFLLEdBQVksS0FBSyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsV0FBc0IsQ0FBQztRQUN4RSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1AsU0FBUyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsQ0FBQztJQUNMLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVudHJ5SXRlbSB9IGZyb20gXCIuL21vZGVsXCI7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xuXG5cbmV4cG9ydCBjbGFzcyB0b2RvIHtcblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgbGV0IGl0ZW1zID0gVmlldy5wcm90b3R5cGUubGlzdEl0ZW1zKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICBsZXQgbmV3VG9kbyA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvZG9cIik7XG4gICAgICAgIGxldCBkZXN0cm95ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihcIi5kZXN0cm95XCIpO1xuICAgICAgICBpZiAobmV3VG9kbykge1xuICAgICAgICAgICAgbmV3VG9kby5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuY3JlYXRlVG9kbywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIChkZXN0cm95KSB7XG4gICAgICAgICAgICBkZXN0cm95LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRlbGV0ZVRvZG8sIGZhbHNlKTtcbiAgICAgICAgLy8gfVxuXG4gICAgfVxuXG4gICAgY3JlYXRlVG9kbyhFdmVudDogb2JqZWN0KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IChFdmVudCBhcyBhbnkpLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGtleSA9IGVudHJ5SXRlbS5wcm90b3R5cGUuY3JlYXRlRW50cnkodmFsdWUpO1xuICAgICAgICAgICAgVmlldy5wcm90b3R5cGUuYWRkSXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZGVsZXRlVG9kbyhFdmVudDogYW55KSB7XG4gICAgICAgIGxldCB2YWx1ZSA6c3RyaW5nID0gKEV2ZW50LnNyY0VsZW1lbnQucGFyZW50Tm9kZS50ZXh0Q29udGVudCBhcyBzdHJpbmcpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICBlbnRyeUl0ZW0ucHJvdG90eXBlLmRlbGV0ZUVudHJ5KHZhbHVlKTtcbiAgICAgICAgICAgICBWaWV3LnByb3RvdHlwZS5kZWxldGVJdGVtKEV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIl19